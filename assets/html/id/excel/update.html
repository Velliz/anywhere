<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button aria-controls="navbar" aria-expanded="false" data-target="#navbar" data-toggle="collapse"
                    class="navbar-toggle collapsed" type="button">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
        </div>
        <div class="navbar-collapse collapse" id="navbar">
            <ul class="nav navbar-nav">
                <li><a data-toggle="tooltip" title="Back" href="{!url()}beranda"><i class="fa fa-arrow-left"></i></a></li>
            </ul>

            <ul class="nav navbar-nav navbar-right">
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                       aria-expanded="false">
                        <i class="fa fa-list"></i>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="{!url()}qr">QR Code</a></li>
                        <hr style="margin: 3px"/>
                        <li><a href="{!url()}constant">Global Variable</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                       aria-expanded="false">
                        <i class="fa fa-gear"></i>
                    </a>
                    <ul class="dropdown-menu">
                        <li class="dropdown-header">Api Key</li>
                        <li class="dropdown-header">{!apikey}</li>
                        <li><a href="{!url()}guide">Panduan Penggunaan</a></li>
                    </ul>
                </li>

                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                       aria-expanded="false">
                        <i class="fa fa-user"></i>
                    </a>
                    <ul class="dropdown-menu">
                        <li class="dropdown-header">{!name}</li>
                        <li class="dropdown-header">{!status}</li>
                        <li><a href="{!url()}profil">Profil</a></li>
                        <li><a href="{!url()}logout">Logout</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>

<div class="design-page">
    <div class="form">
        <form class="login-form" method="POST">
            <!--{!excel}-->
            <input type="hidden" name="excelid" value="{!EXCELID}">
            <input type="text" name="excelname" placeholder="excel name" value="{!excelname}"/>

            <center>
                <label><input type="radio" name="requesttype" value="POST" {!POST}>POST</label>
                <label><input type="radio" name="requesttype" value="URL" {!URL}>URL</label>
            </center>
            <br>
            <b>JSON Column Specs</b>
            <textarea style="resize: none; width: 100%;" id="columnspecs" name="columnspecs" rows="8">{!columnspecs}</textarea>
            <br>
            <b>JSON Data Specs</b>
            <textarea style="resize: none; width: 100%;" id="dataspecs" name="dataspecs" rows="8">{!dataspecs}</textarea>
            <br>
            <p id="apiurl">API URL <a target="_blank" href="{!url()}excel/render/{!apikey}/{!EXCELID}">{!url()}excel/render/{!apikey}/{!EXCELID}</a></p>
            <a target="_blank" href="{!url()}excel/coderender/{!apikey}/{!EXCELID}" class="btn btn-success">Preview Result</a>
            <br><br>
            <button name="submit" type="submit">save configuration</button>
            <!--{/excel}-->
        </form>
    </div>
</div>

<script src="{!url()}assets/global/js/jquery.js"></script>
<script src="{!url()}assets/global/js/bootstrap.min.js"></script>
<script>
    var columnspecs = CodeMirror.fromTextArea(document.getElementById("columnspecs"), {
        lineNumbers: true,
        theme: "night",
        extraKeys: {
            "F11": function (cm) {
                cm.setOption("fullScreen", !cm.getOption("fullScreen"));
            },
            "Esc": function (cm) {
                if (cm.getOption("fullScreen")) cm.setOption("fullScreen", false);
            }
        }
    });
    var dataspecs = CodeMirror.fromTextArea(document.getElementById("dataspecs"), {
        lineNumbers: true,
        theme: "night",
        extraKeys: {
            "F11": function (cm) {
                cm.setOption("fullScreen", !cm.getOption("fullScreen"));
            },
            "Esc": function (cm) {
                if (cm.getOption("fullScreen")) cm.setOption("fullScreen", false);
            }
        }
    });
</script>